<mat-menu #themeMenu="matMenu">
  <div class="theme-menu">
    <button
      mat-flat-button
      *ngFor="let theme of themes"
      class="theme-menu-option"
      (click)="selectTheme(theme)">
      <div 
        class="theme-pic primary-background"
        [ngClass]="theme.id"
        [class.selected]="theme === selected">
      </div>
    </button>
  </div>
</mat-menu>

<button
  [matMenuTriggerFor]="themeMenu"
  mat-icon-button
  matTooltip="Выбрать тему">
  <mat-icon aria-label="Выбрать тему">format_color_fill</mat-icon>
</button>